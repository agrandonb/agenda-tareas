/* ================== Import de fuentes ================== */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

/* ================== Reset Global ================== */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* ================== Variables ================== */
:root {
  --color-texto: #333;
  --color-fondo: #f9f9fb;
  --color-primario: #2c3e50; /* azul oscuro profesional */
  --color-secundario: #3498db; /* azul claro sutil */
  --color-verde: #c8e6c9;
  --color-verde-texto: #2e7d32;
  --rojo-pastel: #fbeaea;
  --naranjo-pastel: #fff4e6;
  --amarillo-pastel: #fffce6;
  --gris-claro: #f0f0f0;
  --gris-hover: #e0e0e0;
  --color-blanco: #ffffff;
  --color-borde: #ddd;
  --color-borde-hover: #bbb;
  --color-hover-card: #fafafa;
  --color-caja: #fcfcfc;
}

/* ================== Body y Tipograf√≠a ================== */
body {
  font-family: 'Inter', sans-serif;
  background-color: var(--color-fondo);
  color: var(--color-texto);
  line-height: 1.6;
  padding: 20px;
}

/* ================== Encabezado ================== */
header.dashboard-header {
  display: flex;
  flex-direction: column;
  gap: 5px;
  margin-bottom: 20px;
}
header.dashboard-header h1 {
  font-size: 1.8em;
  color: var(--color-primario);
  font-weight: 600;
}
.dia-semana {
  font-size: 1em;
  font-weight: 500;
  color: #555;
}

/* ================== Contenedor y Cajas ================== */
.contenedor {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
  margin-bottom: 20px;
}
.caja {
  background-color: var(--color-caja);
  border-radius: 12px;
  padding: 15px;
  display: flex;
  flex-direction: column;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
  cursor: pointer;
}
.caja:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 20px rgba(0,0,0,0.12);
  background-color: var(--color-hover-card);
}
.caja h2 {
  font-size: 1.15em;
  font-weight: 600;
  margin-bottom: 10px;
  color: var(--color-primario);
}

/* ================== Notas ================== */
.caja-notas textarea {
  width: 100%;
  min-height: 120px;
  padding: 8px;
  font-size: 14px;
  border: 1px solid var(--color-borde);
  border-radius: 8px;
  resize: vertical;
  font-family: inherit;
  outline: none;
  transition: border 0.2s, box-shadow 0.2s;
}
.caja-notas textarea:focus {
  border-color: var(--color-secundario);
  box-shadow: 0 0 6px rgba(52,152,219,0.3);
}

/* ================== Botones ================== */
button {
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 8px 14px;
  margin: 4px;
  cursor: pointer;
  transition: background 0.2s ease, transform 0.2s;
}
button:hover {
  transform: scale(1.03);
  opacity: 0.9;
}

/* Botones globales de opciones */
.botones-opciones button {
  background-color: var(--color-secundario);
}
.botones-opciones button:hover {
  background-color: #2980b9;
}

/* ================== Botones de tareas por caja ================== */
.caja button {
  color: #444; /* letras m√°s oscuras */
  border: none;
  border-radius: 6px;
  padding: 6px 12px;
  margin: 4px 2px;
  cursor: pointer;
  font-weight: 500;
  transition: transform 0.2s ease, background 0.2s ease;
}
.caja button:hover {
  transform: scale(1.03);
  opacity: 0.9;
}
/* Colores por caja */
.contenedor .caja:nth-child(1) button,
.contenedor .caja:nth-child(2) button {
  background-color: var(--gris-claro);
  color: #333;
}
.contenedor .caja:nth-child(3) button {
  background-color: var(--rojo-pastel);
  color: #a33;
}
.contenedor .caja:nth-child(4) button {
  background-color: var(--naranjo-pastel);
  color: #b55a2a;
}
.contenedor .caja:nth-child(5) button {
  background-color: var(--amarillo-pastel);
  color: #aa8800;
}
/* Resto de cajas mantiene azul */
.contenedor .caja:nth-child(n+6) button {
  background-color: var(--color-secundario);
  color: #fff;
}

/* ================== Bot√≥n completado ================== */
.caja button.ok {
  background-color: var(--color-verde);
  color: var(--color-verde-texto);
}

/* ================== T√≠tulos plegables ================== */
.titulo-calendario, .titulo-historial, .titulo-graficos {
  cursor: pointer;
  background-color: #ecf3f9;
  padding: 10px;
  border-radius: 6px;
  margin: 10px 0;
  user-select: none;
  display: flex;
  align-items: center;
  transition: background 0.2s;
}
.titulo-calendario.abierto, .titulo-historial.abierto, .titulo-graficos.abierto {
  background-color: #d6e4f0;
}
.titulo-calendario::before, .titulo-historial::before, .titulo-graficos::before {
  content: "‚ñ∂";
  margin-right: 6px;
  transition: transform 0.3s ease;
}
.titulo-calendario.abierto::before, .titulo-historial.abierto::before, .titulo-graficos.abierto::before {
  transform: rotate(90deg);
}

/* ================== Historial ================== */
.historial-container {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.historial-dia {
  display: flex;
  align-items: center;
  gap: 6px;
  background-color: #f0f0f0;
  border-radius: 8px;
  padding: 5px 10px;
  font-size: 0.85rem;
}
.historial-tarea.ok::before { content: "‚úÖ "; }
.historial-tarea.incompleto::before { content: "‚ùå "; }
.historial-tarea.fuera::before { content: "üèñÔ∏è "; }

/* ================== Gr√°ficos ================== */
.graficos-container {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  justify-content: center;
  margin-top: 10px;
}
canvas {
  flex: 1 1 auto;
  width: 100%;
  min-height: 250px;
  aspect-ratio: 2 / 1;
  background-color: var(--color-blanco);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

/* ================== Inputs y selects ================== */
input, select {
  padding: 6px 10px;
  border-radius: 6px;
  border: 1px solid var(--color-borde);
  margin: 4px;
  font-family: inherit;
}

/* ================== Contenedores plegables ================== */
#historial, #contenedorCalendario, #contenedorGraficos, #panelConfigGraficos {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  transform: translateY(-10px);
  transition: max-height 0.4s ease, opacity 0.3s ease, transform 0.3s ease;
}
#historial.show, #contenedorCalendario.show, #contenedorGraficos.show, #panelConfigGraficos.show {
  max-height: 1000px;
  opacity: 1;
  transform: translateY(0);
  overflow-y: auto;
}

/* ================== Responsive ================== */
@media (max-width: 1200px) {
  .contenedor { grid-template-columns: repeat(2,1fr); }
}
@media (max-width: 900px) {
  .contenedor { grid-template-columns: 1fr; }
  canvas { min-height: 200px; aspect-ratio: 1.5 / 1; }
}
@media (max-width: 600px) {
  .caja-notas textarea { min-height: 180px; }
  canvas { aspect-ratio: auto; min-height: 200px; }
}
